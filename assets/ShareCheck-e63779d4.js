import{_ as x,a as R,u as V,b as N,r as d,e as o,f as q,h as D,i as e,j as n,t as i,w as _,q as B,p as K,m as A,s as T,v as j}from"./index-28ee92df.js";const f=c=>(T("data-v-904aefb4"),c=c(),j(),c),E={class:"share"},L={class:"body-content"},M=f(()=>e("div",{class:"logo"},[e("span",{class:"iconfont icon-pan"}),e("span",{class:"name"},"云享盘")],-1)),U={class:"code-panel"},$={class:"file-info"},z={class:"avatar"},F={class:"share-info"},G={class:"user-info"},H={class:"nick-name"},J={class:"share-time"},O={class:"file-name"},P={class:"code-body"},Q=f(()=>e("div",{class:"tips"},"请输入提取码：",-1)),W={class:"input-area"},X={__name:"ShareCheck",setup(c){const{proxy:u}=R(),v=V(),S=N(),h={getShareInfo:"/showShare/getShareInfo",checkShareCode:"/showShare/checkShareCode"},l=S.params.shareId,s=d({});(async()=>{let a=await u.Request({url:h.getShareInfo,params:{shareId:l}});a&&(s.value=a.data)})();const r=d({}),p=d(),I={code:[{required:!0,message:"请输入提取码"},{min:5,message:"提取码为5位"},{max:5,message:"提取码为5位"}]},m=async()=>{p.value.validate(async a=>{!a||!await u.Request({url:h.checkShareCode,params:{shareId:l,code:r.value.code}})||v.push(`/share/${l}`)})};return(a,t)=>{const y=o("Avatar"),g=o("el-input"),k=o("el-button"),w=o("el-form-item"),C=o("el-form");return q(),D("div",E,[e("div",L,[M,e("div",U,[e("div",$,[e("div",z,[n(y,{userId:s.value.userId,avatar:s.value.avatar,width:50},null,8,["userId","avatar"])]),e("div",F,[e("div",G,[e("span",H,i(s.value.nickName),1),e("span",J,"分享于 "+i(s.value.shareTime),1)]),e("div",O,"分享文件："+i(s.value.fileName),1)])]),e("div",P,[Q,e("div",W,[n(C,{model:r.value,rules:I,ref_key:"formDataRef",ref:p,maxLength:5,onSubmit:t[1]||(t[1]=B(()=>{},["prevent"]))},{default:_(()=>[n(w,{prop:"code"},{default:_(()=>[n(g,{class:"input",modelValue:r.value.code,"onUpdate:modelValue":t[0]||(t[0]=b=>r.value.code=b),onKeyup:K(m,["enter"])},null,8,["modelValue","onKeyup"]),n(k,{type:"primary",onClick:m},{default:_(()=>[A("提取文件")]),_:1})]),_:1})]),_:1},8,["model"])])])])])])}}},ee=x(X,[["__scopeId","data-v-904aefb4"]]);export{ee as default};
